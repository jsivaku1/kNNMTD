<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF--8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kNNMTD Synthetic Data Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <h1>kNNMTD Synthetic Data Generator ðŸ“ˆ</h1>
        <p>Upload your dataset, choose your parameters, and generate new synthetic samples.</p>
        
        <form action="/generate" method="post" enctype="multipart/form-data" id="generation-form">
            
            <div class="form-group">
                <label for="dataset">1. Upload Your Dataset (.csv)</label>
                <input type="file" id="dataset" name="dataset" accept=".csv" required>
            </div>

            <div class="form-group">
                <label for="mode">2. Select Task Type</label>
                <select name="mode" id="mode" required>
                    <option value="-1">Unsupervised</option>
                    <option value="0">Classification</option>
                    <option value="1">Regression</option>
                </select>
            </div>

            <div class="form-group" id="class-col-group" style="display: none;">
                <label for="class_col">Target/Class Column Name</label>
                <input type="text" id="class_col" name="class_col" placeholder="e.g., ca_cervix">
            </div>

            <div class="form-group">
                <label for="k_value">3. Select 'k' Value</label>
                <select name="k_value" id="k_value" required>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="7">7</option>
                </select>
            </div>

            <div class="form-group">
                <label for="n_obs">4. Number of Synthetic Samples to Generate</label>
                <input type="number" id="n_obs" name="n_obs" value="100" min="1" required>
            </div>

            <button type="submit" class="btn">Generate Data</button>
        </form>
    </div>

    <script>
        document.getElementById('mode').addEventListener('change', function() {
            var classColGroup = document.getElementById('class-col-group');
            var classColInput = document.getElementById('class_col');
            // Show if mode is Classification (0) or Regression (1)
            if (this.value === '0' || this.value === '1') {
                classColGroup.style.display = 'block';
                classColInput.required = true;
            } else {
                classColGroup.style.display = 'none';
                classColInput.required = false;
            }
        });
    </script>
</body>
</html>